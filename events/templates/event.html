{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Management</title>
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
</head>
<body>
    <!-- Event Search Section -->
    <section class="bg-gradient-to-r from-[#FF5722] to-[#FFC107] py-16">
        <div class="container mx-auto px-4 md:px-8">
            <div class="mb-2">
                <h3 class="text-white uppercase tracking-wider text-lg font-semibold">FIND BEST EVENT ON GLAM</h3>
            </div>
            <div class="flex flex-col md:flex-row gap-6">
                <div class="md:w-1/3 flex items-center">
                    <h1 class="text-white text-5xl md:text-6xl font-bold">Event <span class="block md:inline">Search</span></h1>
                </div>
                <div class="md:w-2/3">
                    <form action="" method="GET" class="flex flex-col md:flex-row gap-3">
                        <div class="flex flex-col w-full gap-2">
                            <label for="keyword" class="text-white text-lg font-medium">EVENT KEYWORD</label>
                            <input 
                                type="text"   
                                id="keyword"
                                name="keyword"
                                placeholder="Event name or location" 
                                class="w-full px-4 py-3 rounded border-0 focus:ring-2 focus:ring-blue-500"
                            >
                        </div>
                        <div class="flex flex-col w-full gap-2">
                            <label for="category" class="text-white text-lg font-medium">EVENT CATEGORY</label>
                            <div class="relative">
                                <select 
                                    id="category" 
                                    name="category" 
                                    class="w-full px-4 py-3 rounded border-0 appearance-none bg-white focus:ring-2 focus:ring-blue-500"
                                >
                                    <option value="">All Categories</option>
                                    {% for category in categories %}
                                        <option value="{{ category.id }}" {% if selected_category_id == category.id|stringformat:"s" %}selected{% endif %}>
                                            {{ category.name }}
                                        </option>
                                    {% endfor %}
                                </select>
                                <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none">
                                    <svg class="h-5 w-5 text-yellow-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col w-full md:w-auto justify-end">
                            <label class="text-white text-lg font-medium opacity-0">SEARCH</label>
                            <button 
                                type="submit" 
                                class="bg-gray-900 text-white px-6 py-3 rounded font-semibold hover:bg-black transition-colors whitespace-nowrap"
                            >
                                SEARCH EVENT NOW
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Events Listing Section -->
    <section class="py-12 bg-gray-50">
        <div class="container mx-auto px-4 md:px-8">
         
                  <div class="mb-6 ">
                            {% comment %} <span><svg width="50" height="50" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <polygon points="50,5 95,25 95,75 50,95 5,75 5,25" fill="#E74C3C"/>
                                    <path d="M50 70s-10.9-7.7-17.2-13.8c-5-4.7-9.5-9.5-9.5-15.7 0-6.6 5.4-12 12-12 4.6 0 8.6 2.5 10.7 6.3 2.1-3.8 6.1-6.3 10.7-6.3 6.6 0 12 5.4 12 12 0 6.2-2.5 11-7.5 15.7C60.9 59.3 50 70 50 70z" fill="white"/>
                                </svg></span> {% endcomment %}
                                   
                                
                                <div class="flex items-center justify-between">
                                    <a href="{% url 'home_page' %}?category=all">
                                                      <h1 class="text-4xl font-medium mx-2 {% if selected_category_id == 'all' %}text-[#ff5e0d] underline {% else %}text-[#838e99]{% endif %}">
                                                          ALL
                                                      </h1>
                                    </a>
                                    {% for category in categories %}
                                        <a href="{% url 'home_page' %}?category={{ category.id }}">
                                            <p class="text-4xl text-[#838e99] font-medium mx-2">{{ category.name }}</p>
                                        </a>
                                    {% endfor %}
                                </div>
                          </div>
            <!-- Events Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {% for event in events %}
                    <div class="bg-white p-6 rounded-lg shadow-md">
                         <img src="{% static 'images/img1.jpeg' %}" alt="">
                        <h3 class="text-xl font-bold mb-2">{{ event.name }}</h3>
                        <p class="text-gray-600 mb-2">{{ event.description }}</p>
                        <p class="text-gray-600 mb-2"><strong>Category:</strong> {{ event.category.name }}</p>
                        <p class="text-gray-600 mb-2"><strong>Date:</strong> {{ event.date }}</p>
                        <p class="text-gray-600 mb-2"><strong>Time:</strong> {{ event.time }}</p>
                        <p class="text-gray-600 mb-2"><strong>Location:</strong> {{ event.location }}</p>
                        <p class="text-gray-600 mb-2"><strong>Participants:</strong> {{ event.participants.count }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>
</body>
</html>